<script src="{{ [
    'assets/js/jquery3.7.1.js',
]|theme }}"></script>

{% framework %}

<form data-request="onUpdate" data-request-files data-request-flash>
    <div>
        <label for="name">Image Name</label>
        <input type="text" name="name" id="name" value="{{ image.name }}">
    </div>

    <div>
        <label for="description">Description</label>
        <input type="text" name="description" id="description" value="{{ image.description }}">
    </div>

    <div>
        <label for="image">Image Upload</label>
        <input type="file" name="image" id="image" accept="image/*" data-request="onImageUpload" data-request-files data-request-flash>
    </div>
    <br>

    <div id="imagePreview">
        {% if image.image %}
            <img src="{{ image.image.thumb(300, 300, {'mode':'auto'}) }}" alt="image">
        {% endif %}
    </div>
    <br>

    <button type="submit">Update</button>
    <button type="submit" data-request="onDelete" data-request-confirm="Are you sure?">Delete</button>

</form>
